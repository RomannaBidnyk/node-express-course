<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Express</title>
  </head>

  <body>
    <h1>Introduction to Express</h1>
    <p>Week 3</p>
    <button id="fetchProducts">Get All Products</button>
    <ul id="productList"></ul>

    <script>
      document
        .getElementById("fetchProducts")
        .addEventListener("click", async () => {
          try {
            const response = await fetch("/api/v1/products");
            const data = await response.json();
            document.getElementById("productList").innerHTML = data
              .map(
                (product) =>
                  `<li><strong>${product.name}</strong> - $${product.price}</li>`
              )
              .join("");
          } catch (error) {
            console.error("Error fetching products:", error);
          }
        });
    </script>
  </body>
</html>
